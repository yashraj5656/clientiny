<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin Delete</title>
  <style>
    body { font-family: sans-serif; padding: 40px; background: #fefefe; }
    input, button { padding: 10px; margin-top: 10px; font-size: 16px; width: 300px; }
    .success { color: green; }
    .error { color: red; }
  </style>
</head>
<body>
  <h2>Admin – Delete Article</h2>
  <input id="articleId" placeholder="Enter Article ID" />
  <button onclick="deleteArticle()">Delete</button>
  <p id="message"></p>

  <script>
    async function deleteArticle() {
      const id = document.getElementById('articleId').value.trim();
      const msg = document.getElementById('message');

      if (!id || id.length !== 24) {
        msg.textContent = '❌ Invalid MongoDB ID.';
        msg.className = 'error';
        return;
      }

      if (!confirm(`Delete article ${id}?`)) return;

      try {
        const res = await fetch(`http://localhost:5000/articles/${id}`, { method: 'DELETE' });
        const data = await res.json();
        if (res.ok) {
          msg.textContent = '✅ ' + data.message;
          msg.className = 'success';
        } else {
          msg.textContent = '❌ ' + (data.message || 'Delete failed');
          msg.className = 'error';
        }
      } catch (err) {
        console.error(err);
        msg.textContent = '❌ Server error';
        msg.className = 'error';
      }
    }
  </script>
</body>
</html>
